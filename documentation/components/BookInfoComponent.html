<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">frontend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>BookInfoComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/book-info/book-info.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>component to show details of a specific book </p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-book-info</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./book-info.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./book-info.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#errMsg">errMsg</a>
                            </li>
                            <li>
                                <a href="#isUser">isUser</a>
                            </li>
                            <li>
                                <a href="#myBook">myBook</a>
                            </li>
                            <li>
                                <a href="#reviews">reviews</a>
                            </li>
                            <li>
                                <a href="#shelves">shelves</a>
                            </li>
                            <li>
                                <a href="#userInfo">userInfo</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#deleteReview">deleteReview</a>
                            </li>
                            <li>
                                <a href="#filterFunction">filterFunction</a>
                            </li>
                            <li>
                                <a href="#getBookInfo">getBookInfo</a>
                            </li>
                            <li>
                                <a href="#getBookReviews">getBookReviews</a>
                            </li>
                            <li>
                                <a href="#getUserInfo">getUserInfo</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#open">open</a>
                            </li>
                            <li>
                                <a href="#openShelves">openShelves</a>
                            </li>
                            <li>
                                <a href="#review">review</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(service: <a href="../injectables/BookService.html">BookService</a>, route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, shelfService: <a href="../injectables/ShelfService.html">ShelfService</a>, sharedService: <a href="../injectables/SharedService.html">SharedService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/book-info/book-info.component.ts:53</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>constructor that takes in the passes parameters </p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>service</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BookService.html" target="_self" >BookService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>injected book service instance</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>activated route instance</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>router inastance to route by code</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>shelfService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ShelfService.html" target="_self" >ShelfService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>sharedService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SharedService.html" target="_self" >SharedService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteReview"></a>
                    <span class="name">
                        <b>
                            deleteReview
                        </b>
                        <a href="#deleteReview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteReview()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="183"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:183</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if the user has a review on this book then deletes it </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filterFunction"></a>
                    <span class="name">
                        <b>
                            filterFunction
                        </b>
                        <a href="#filterFunction"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>filterFunction()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="236"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:236</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>filters the dropdown menu when user enters a filter </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBookInfo"></a>
                    <span class="name">
                        <b>
                            getBookInfo
                        </b>
                        <a href="#getBookInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBookInfo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="107"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:107</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get the selected book information </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBookReviews"></a>
                    <span class="name">
                        <b>
                            getBookReviews
                        </b>
                        <a href="#getBookReviews"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBookReviews()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="122"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:122</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets the selected book reviews </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserInfo"></a>
                    <span class="name">
                        <b>
                            getUserInfo
                        </b>
                        <a href="#getUserInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserInfo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="130"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:130</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets user related book information </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="91"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:91</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a user has logged in to shift between guest mode and user mode
gets the selected book information</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="open"></a>
                    <span class="name">
                        <b>
                            open
                        </b>
                        <a href="#open"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>open(rate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>opens the review model when the user rates a book</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rate</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The output rate from the star component</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openShelves"></a>
                    <span class="name">
                        <b>
                            openShelves
                        </b>
                        <a href="#openShelves"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openShelves()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="231"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:231</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>function to toggle a dropdown menu </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="review"></a>
                    <span class="name">
                        <b>
                            review
                        </b>
                        <a href="#review"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>review()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="145"
                            class="link-to-prism">src/app/book-info/book-info.component.ts:145</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if there is an input body then calls the book service funstion to create a review </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="errMsg"></a>
                        <span class="name">
                            <b>
                            errMsg</b>
                            <a href="#errMsg"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/book-info/book-info.component.ts:37</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>error msg </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isUser"></a>
                        <span class="name">
                            <b>
                            isUser</b>
                            <a href="#isUser"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/book-info/book-info.component.ts:34</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>true if user mode false if guest mode </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="myBook"></a>
                        <span class="name">
                            <b>
                            myBook</b>
                            <a href="#myBook"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/book.html" target="_self" >book</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/book-info/book-info.component.ts:19</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>store information of the selected book </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="reviews"></a>
                        <span class="name">
                            <b>
                            reviews</b>
                            <a href="#reviews"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/review.html" target="_self" >review[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/book-info/book-info.component.ts:22</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>reviews array of the selectec book </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="shelves"></a>
                        <span class="name">
                            <b>
                            shelves</b>
                            <a href="#shelves"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>string[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[&#x27;Read&#x27;, &#x27;Currently Reading&#x27;, &#x27;Want To Read&#x27;]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/book-info/book-info.component.ts:40</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>shelves array </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="userInfo"></a>
                        <span class="name">
                            <b>
                            userInfo</b>
                            <a href="#userInfo"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/userBookInfo.html" target="_self" >userBookInfo</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
    id: -1,
    rating: 0,
    shelf_name: 3,
    body: &quot;&quot;
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/book-info/book-info.component.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>stores user related book info </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { review } from &#x27;../classes/review&#x27;;
import { book } from &#x27;../classes/book&#x27;;
import { userBookInfo } from &#x27;../classes/userBookInfo&#x27;;
import { BookService } from &#x27;./book.service&#x27;;
import { ShelfService } from &#x27;../shared/dropdown/shelf.service&#x27;;
import { SharedService } from &#x27;../shared.service&#x27;;
import { userInfo } from &#x27;os&#x27;;

/**component to show details of a specific book */
@Component({
  selector: &#x27;app-book-info&#x27;,
  templateUrl: &#x27;./book-info.component.html&#x27;,
  styleUrls: [&#x27;./book-info.component.css&#x27;]
})
export class BookInfoComponent implements OnInit {
  /**store information of the selected book */
  myBook: book;

  /**reviews array of the selectec book */
  reviews: review[];


  /**stores user related book info */
  userInfo: userBookInfo &#x3D; {
    id: -1,
    rating: 0,
    shelf_name: 3,
    body: &quot;&quot;
  };

  /**true if user mode false if guest mode */
  isUser: boolean;

  /**error msg */
  errMsg: string;

  /**shelves array */
  shelves: string[] &#x3D; [&#x27;Read&#x27;, &#x27;Currently Reading&#x27;, &#x27;Want To Read&#x27;];

  /**@ignore */
  reviewId &#x3D; -1;
  /**@ignore */
  reviewShelf &#x3D; 0;
  /**@ignore */
  reviewBody &#x3D; &quot;&quot;;
  /**@ignore */
  reviewRating &#x3D; 0;
  /**@ignore */
  shelfName: string &#x3D; &quot;&quot;;
  /**@ignore */
  modelShelf: string &#x3D; &quot;read&quot;;


  /**
   * constructor that takes in the passes parameters 
   * @param {BookService} service injected book service instance
   * @param {ActivatedRoute} route activated route instance
   * @param {Router} router router inastance to route by code
   * @param {shelfService} shelf http service
   * @param {shelfService} a shared service to communicate between bookInfoComponent, starComponent, dropdwonComponent
   */
  constructor(private service: BookService, private route: ActivatedRoute, private router: Router, private shelfService: ShelfService, private sharedService: SharedService, ) {
    
    this.sharedService.currentShelf.subscribe(data &#x3D;&gt; {
      if (data.key !&#x3D; -1 &amp;&amp; data.value !&#x3D; -1) {
        if (data.key &#x3D;&#x3D; this.myBook.id) {
          this.reviewShelf &#x3D; data.value;
          if (this.reviewShelf &#x3D;&#x3D; 3) {
            this.reviewBody &#x3D; &quot;&quot;;
            this.reviewId &#x3D; -1;
            this.reviewRating &#x3D; 0;

            this.userInfo.id &#x3D; -1;
            this.userInfo.body &#x3D; &quot;&quot;;
            this.userInfo.rating &#x3D; 0;
            this.userInfo.shelf_name &#x3D; 3;
          } else {
            this.shelfName &#x3D; this.shelves[this.reviewShelf];
            this.userInfo.shelf_name &#x3D; this.reviewShelf;
          }
        }
      }
    });
  }

  /**checks if a user has logged in to shift between guest mode and user mode
   * gets the selected book information
    */
  ngOnInit() {
    if (localStorage.getItem(&#x27;token&#x27;) &#x3D;&#x3D; null) {
      this.isUser &#x3D; false;
    }
    else {
      this.isUser &#x3D; true;
    }

    this.getBookInfo();
    if(this.isUser) {
      this.getUserInfo();
      this.getBookReviews();
    }
  }

  /**get the selected book information */
  getBookInfo() {
    this.service.getBook(+this.route.snapshot.paramMap.get(&#x27;id&#x27;))
      .subscribe((data) &#x3D;&gt; {
        this.myBook &#x3D; data.pages[0];

        if (Math.floor(this.myBook.ratings_avg) &gt; this.myBook.ratings_avg - 0.5) {
          this.myBook.ratings_avg &#x3D; Math.floor(this.myBook.ratings_avg);
        }
        else {
          this.myBook.ratings_avg &#x3D; Math.ceil(this.myBook.ratings_avg);
        }
      }, () &#x3D;&gt; this.router.navigateByUrl(&quot;/pageNotfound&quot;));
  }

  /**gets the selected book reviews */
  getBookReviews() {
    this.service.getBookReviews(+this.route.snapshot.paramMap.get(&#x27;id&#x27;))
      .subscribe((data) &#x3D;&gt; {
        this.reviews &#x3D; data.pages;
      });
  }

  /**gets user related book information */
  getUserInfo() {
    this.shelfService.getUserBookInfo(+this.route.snapshot.paramMap.get(&#x27;id&#x27;)).subscribe((data) &#x3D;&gt; {
      this.userInfo &#x3D; data.pages[0];

      this.reviewId &#x3D; this.userInfo.id;
      this.reviewBody &#x3D; this.userInfo.body;
      this.reviewShelf &#x3D; this.userInfo.shelf_name;
      this.reviewRating &#x3D; this.userInfo.rating;

      this.shelfName &#x3D; this.shelves[this.reviewShelf];

    });
  }

  /**checks if there is an input body then calls the book service funstion to create a review */
  review() {
    if (this.reviewBody !&#x3D; &quot;&quot; &amp;&amp; this.reviewBody) {
      this.service.createReview(this.myBook.id, this.reviewShelf, this.reviewBody, this.reviewRating)
        .subscribe((data) &#x3D;&gt; {
          this.userInfo.id &#x3D; data.Review_id;
          this.userInfo.body &#x3D; data.bodyOfReview
          this.userInfo.rating &#x3D; data.rate;

          if (data.shelfType &#x3D;&#x3D; &quot;read&quot;) {
            this.userInfo.shelf_name &#x3D; 0;
            this.reviewShelf &#x3D; 0;
            this.shelfName &#x3D; this.shelves[this.reviewShelf];
          } else if (data.shelfType &#x3D;&#x3D; &quot;currently-reading&quot;) {
            this.userInfo.shelf_name &#x3D; 1;
            this.reviewShelf &#x3D; 1;
            this.shelfName &#x3D; this.shelves[this.reviewShelf];
          } else {
            this.userInfo.shelf_name &#x3D; 2;
            this.reviewShelf &#x3D; 2;
            this.shelfName &#x3D; this.shelves[this.reviewShelf];
          }

          this.reviewId &#x3D; this.userInfo.id;
          this.reviewBody &#x3D; this.userInfo.body;
          this.reviewRating &#x3D; this.userInfo.rating;

          this.sharedService.changeShelf(this.myBook.id, this.reviewShelf);

          document.getElementById(&quot;closebtn&quot;).click();
          this.errMsg &#x3D; &quot;&quot;;
        });
    }
    else {
      this.errMsg &#x3D; &quot;You must enter a review&quot;;
    }
  }

  /** checks if the user has a review on this book then deletes it */
  deleteReview() {
    if (this.isUser &amp;&amp; this.reviewId !&#x3D; -1) {
      this.service.deleteReview(this.reviewId).subscribe((data) &#x3D;&gt; {
        console.log(data);
        this.reviewId &#x3D; -1;
        this.reviewBody &#x3D; &quot;&quot;;
        this.reviewRating &#x3D; 0;

        this.userInfo.id &#x3D; -1;
        this.userInfo.body &#x3D; &quot;&quot;;
        //this.userInfo.shelf_name &#x3D; 3;
        this.userInfo.rating &#x3D; 0;

        //this.sharedService.changeShelf(this.myBook.id, 3);

        document.getElementById(&quot;closebtn&quot;).click();
        this.errMsg &#x3D; &quot;&quot;;
      });
    }
    else {
      this.errMsg &#x3D; &quot;You don&#x27;t have a review on this book&quot;
    }


  }

  /**
   * opens the review model when the user rates a book
   * @param {number} rate The output rate from the star component
   */
  open(rate: number) {

    if (rate &lt;&#x3D; 5) {
      this.reviewRating &#x3D; rate;
      this.userInfo.rating &#x3D; rate;
    }
    else {
      document.getElementById(&quot;openModalButton&quot;).click();
      return;
    }
    if (this.userInfo.id &#x3D;&#x3D; -1) {
      /* this.userInfo.shelf_name &#x3D; 0;
       this.shelfName &#x3D; &quot;Read&quot;;*/
      document.getElementById(&quot;openModalButton&quot;).click();
    }
  }

  /**function to toggle a dropdown menu */
  openShelves() {
    document.getElementById(&quot;myDropdown&quot;).classList.toggle(&quot;show&quot;);
  }

  /**filters the dropdown menu when user enters a filter */
  filterFunction() {
    var input, filter, a, i, text;
    input &#x3D; document.getElementById(&quot;myInput&quot;);
    filter &#x3D; input.value.toUpperCase();

    var div &#x3D; document.getElementById(&quot;myDropdown&quot;);
    a &#x3D; div.getElementsByTagName(&quot;a&quot;);
    for (i &#x3D; 0; i &lt; a.length; i++) {
      text &#x3D; a[i].textContent || a[i].innerText;
      if (text.toUpperCase().indexOf(filter) &#x3D;&#x3D; 0) {
        a[i].style.display &#x3D; &quot;&quot;;
      } else {
        a[i].style.display &#x3D; &quot;none&quot;;
      }
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;navbar&gt;&lt;/navbar&gt;
&lt;div class&#x3D;&quot;container&quot;&gt;
    &lt;div class&#x3D;&quot;row&quot; style&#x3D;&quot;float:left&quot;&gt;
        &lt;div class&#x3D;&quot;media&quot;&gt;
            &lt;div class&#x3D;&quot;col-md-2&quot; id&#x3D;&quot;leftCol&quot;&gt;
                &lt;img id&#x3D;&quot;bookCover&quot; src&#x3D;{{myBook?.img_url}} class&#x3D;&quot;align-self-start mr-3&quot;&gt;
                &lt;app-dropdown id&#x3D;&quot;shelf&quot; [bookId]&#x3D;&quot;myBook?.id&quot;&gt;&lt;/app-dropdown&gt;
                &lt;app-star id&#x3D;&quot;rateBook&quot; (rated)&#x3D;&quot;open($event)&quot; [bookId]&#x3D;&quot;myBook?.id&quot; [shelf]&#x3D;&quot;userInfo?.shelf_name&quot; [readOnly]&#x3D;&quot;false&quot; [starsCount]&#x3D;&quot;userInfo?.rating&quot;&gt;&lt;/app-star&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;media-body&quot; id&#x3D;&quot;bookInfo&quot;&gt;
                &lt;div class&#x3D;&quot;col-md-9&quot;&gt;
                    &lt;h1 id&#x3D;&quot;Booktitle&quot;&gt;{{myBook?.title}}&lt;/h1&gt;
                    &lt;h5 id&#x3D;&quot;authorName&quot;&gt;by {{myBook?.author_name}}&lt;/h5&gt;
                    &lt;div&gt;
                        &lt;app-star [starsCount]&#x3D;&quot;myBook?.ratings_avg&quot; [readOnly]&#x3D;&quot;true&quot;&gt;&lt;/app-star&gt;
                        &lt;span style&#x3D;&quot;font-size: 13px; font-family: &#x27;Segoe UI&#x27;, Tahoma, sans-serif;&quot;&gt;{{myBook?.ratings_avg}}
                            {{myBook?.ratings_count}} ratings {{myBook?.reviews_count}} reviews&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;p&gt;{{myBook?.description}}&lt;/p&gt;
                    &lt;div id&#x3D;&quot;bookFormat&quot;&gt;
                        &lt;p&gt;Paperback {{myBook?.pages_no}} pages&lt;/p&gt;
                        &lt;p&gt;Published {{myBook?.publication_date}} by {{myBook?.publisher}}&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;col-md-1&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class&#x3D;&quot;container&quot; id&#x3D;&quot;activity&quot; *ngIf&#x3D;&quot;isUser &amp;&amp; (userInfo?.rating &gt; 0 || userInfo?.shelf_name &lt; 3)&quot;&gt;
    &lt;h6&gt;MY ACTIVITY&lt;/h6&gt;
    &lt;hr&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
        &lt;div class&#x3D;&quot;col-2&quot; id&#x3D;&quot;ActCol1&quot;&gt;
            &lt;!--50--&gt;
            &lt;p style&#x3D;&quot;white-space: nowrap;&quot;&gt;Review Of&lt;/p&gt;
            &lt;p&gt;shelf&lt;/p&gt;
            &lt;p&gt;Rating&lt;/p&gt;
            &lt;p&gt;Review&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;col-8&quot; id&#x3D;&quot;ActCol2&quot;&gt;
            &lt;!--300--&gt;
            &lt;p&gt;{{myBook?.isbn}}&lt;/p&gt;
            &lt;p&gt;{{shelfName}}&lt;/p&gt;
            &lt;app-star [starsCount]&#x3D;&quot;userInfo?.rating&quot; [readOnly]&#x3D;&quot;true&quot;&gt;&lt;/app-star&gt;
            &lt;div *ngIf&#x3D;&quot;!userInfo.body&quot;&gt;
                &lt;p id&#x3D;&quot;reviewbtn&quot; (click)&#x3D;&quot;open(6)&quot;&gt;Add a review&lt;/p&gt;
            &lt;/div&gt;
            &lt;div *ngIf&#x3D;&quot;userInfo?.body&quot;&gt;
                &lt;p&gt;{{userInfo.body}}&lt;/p&gt;
                &lt;p id&#x3D;&quot;reviewbtn&quot; (click)&#x3D;&quot;open(6)&quot;&gt;Edit review&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;hr&gt;
&lt;/div&gt;



&lt;div class&#x3D;&quot;container&quot;&gt;
    &lt;div class&#x3D;&quot;row&quot; style&#x3D;&quot;float: left; margin-top: 15px; display: block;&quot;&gt;
        &lt;ng-container *ngFor&#x3D;&quot;let review of reviews&quot;&gt;
            &lt;div class&#x3D;&quot;media&quot; *ngIf&#x3D;&quot;userInfo?.id !&#x3D; review.id&quot;&gt;
                &lt;img [routerLink]&#x3D;&quot;[&#x27;/profile&#x27;,review.user_id]&quot; id&#x3D;&quot;reviewerImg&quot; src&#x3D;{{review?.userimagelink}} class&#x3D;&quot;align-self-start mr-3&quot; style&#x3D;&quot;width:50px; height: 50px&quot;&gt;
                &lt;div class&#x3D;&quot;media-body&quot; id&#x3D;&quot;reviewInfo&quot;&gt;
                    &lt;h6&gt;&lt;b [routerLink]&#x3D;&quot;[&#x27;/profile&#x27;,review.user_id]&quot; id&#x3D;&quot;reviewerName&quot;&gt;{{review?.username}}&lt;/b&gt; rated it
                        &lt;app-star [starsCount]&#x3D;&quot;review?.rating&quot; [readOnly]&#x3D;&quot;true&quot;&gt;&lt;/app-star&gt;
                    &lt;/h6&gt;
                    &lt;p *ngIf&#x3D;&quot;review.body !&#x3D; &#x27;No Body&#x27;&quot;&gt;{{review?.body}}&lt;/p&gt;
                    &lt;small&gt;{{review?.likes_count}}
                        &lt;app-list-likes [resourse_id]&#x3D;&#x27;review.id&#x27;&gt;&lt;/app-list-likes&gt;
                        &lt;app-likes [user]&#x3D;&#x27;review.user_id&#x27; [resourse_id]&#x3D;&#x27;review.id&#x27;&gt;&lt;/app-likes&gt;
                        {{review?.comments_count}} Comments
                        &lt;app-comments [resourse_id]&#x3D;&#x27;review.id&#x27;&gt;&lt;/app-comments&gt;
                    &lt;/small&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/ng-container&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;col-md-3&quot;&gt;&lt;/div&gt;
&lt;/div&gt;



&lt;div class&#x3D;&quot;modal fade&quot; id&#x3D;&quot;Modal&quot;&gt;
    &lt;div class&#x3D;&quot;modal-dialog modal-lg&quot;&gt;
        &lt;div class&#x3D;&quot;modal-content&quot;&gt;
            &lt;div class&#x3D;&quot;modal-header&quot;&gt;
                &lt;h5 class&#x3D;&quot;modal-title&quot;&gt;Review of {{myBook?.title}}&lt;/h5&gt;
                &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;close&quot; id&#x3D;&quot;closebtn&quot; data-dismiss&#x3D;&quot;modal&quot; (click)&#x3D;&quot;errMsg&#x3D;&#x27;&#x27;; reviewBody&#x3D;userInfo.body;&quot;&gt;&amp;times;&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;modal-body&quot; style&#x3D;&quot;margin-bottom:5px; padding-bottom: 0px;&quot;&gt;
                &lt;div class&#x3D;&quot;row&quot; style&#x3D;&quot;margin-bottom:0px&quot;&gt;
                    &lt;div class&#x3D;&quot;col-2&quot; style&#x3D;&quot;width: 100%&quot;&gt;
                        &lt;p&gt;My rating&lt;/p&gt;
                        &lt;p&gt;Book shelf&lt;/p&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;col-8&quot; style&#x3D;&quot;width: 100%&quot;&gt;
                        &lt;app-star [starsCount]&#x3D;&quot;userInfo?.rating&quot; (rated)&#x3D;&quot;userInfo.rating &#x3D; $event; reviewRating &#x3D; $event&quot; [readOnly]&#x3D;&quot;false&quot; [bookId]&#x3D;&quot;myBook?.id&quot; [shelf]&#x3D;&quot;userInfo?.shelf_name&quot;&gt;&lt;/app-star&gt;
                        &lt;br&gt;
                        &lt;div class&#x3D;&quot;dropdown&quot; style&#x3D;&quot;width:200px;&quot;&gt;
                            &lt;button (click)&#x3D;&quot;openShelves()&quot; class&#x3D;&quot;dropbtn&quot;&gt;choose shelves..&lt;/button&gt;
                            &lt;div id&#x3D;&quot;myDropdown&quot; class&#x3D;&quot;dropdown-content&quot;&gt;
                                &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;Search..&quot; id&#x3D;&quot;myInput&quot; (keyup)&#x3D;&quot;filterFunction()&quot;&gt;
                                &lt;a&gt;&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;group1&quot; (click)&#x3D;&quot;reviewShelf&#x3D;0; modelShelf&#x3D;&#x27;read&#x27;;&quot; checked&gt;read&lt;/a&gt;
                                &lt;a&gt;&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;group1&quot; (click)&#x3D;&quot;reviewShelf&#x3D;1; modelShelf&#x3D;&#x27;currently reading&#x27;;&quot;&gt;currently reading
                                &lt;/a&gt;
                                &lt;a&gt;&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;group1&quot; (click)&#x3D;&quot;reviewShelf&#x3D;2; modelShelf&#x3D;&#x27;want to read&#x27;;&quot;&gt;want to read&lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;span style&#x3D;&quot;color: #00635d;  margin-left: 10px;&quot;&gt;{{modelShelf}}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;p style&#x3D;&quot;margin-left: 2%&quot;&gt;What did you think?&lt;/p&gt;
                    &lt;textarea rows&#x3D;&quot;10&quot; cols&#x3D;&quot;100&quot; [(ngModel)]&#x3D;&quot;reviewBody&quot;&gt;&lt;/textarea&gt;
                    &lt;h6 id&#x3D;&quot;error&quot; style&#x3D;&quot;margin-left: 20px&quot; *ngIf&#x3D;&quot;errMsg&quot; style&#x3D;&quot;color:crimson&quot;&gt;{{errMsg}}&lt;/h6&gt;

                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;modal-footer&quot; style&#x3D;&quot;border:none;&quot;&gt;
                &lt;button type&#x3D;&quot;button&quot; id&#x3D;&quot;save&quot; (click)&#x3D;&quot;review()&quot;&gt;Save&lt;/button&gt;
                &lt;button type&#x3D;&quot;button&quot; id&#x3D;&quot;delete&quot; (click)&#x3D;&quot;deleteReview()&quot;&gt;delete&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;button type&#x3D;&quot;button&quot; id&#x3D;&quot;openModalButton&quot; data-toggle&#x3D;&quot;modal&quot; data-target&#x3D;&quot;#Modal&quot; style&#x3D;&quot;display: none;&quot;&gt;&lt;/button&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./book-info.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">
.container
{
    width: 100%;
    margin-left: 15%;
    margin-bottom: 2%;
    margin-right: 10%;
  /*  margin-left: 210px;
    margin-right: 280px;
    margin-bottom: 20px;*/
}

#leftCol {
    margin-top: 20px;
    margin-right: 35px;
    min-width: 180px;
}

#reviewerName {
    color: #00635d;
    cursor: pointer;
}

#reviewerImg {
    cursor: pointer;
}
#bookCover {
    width: 180px;
    height: 240px;
    margin-right: 0px;
}

#rateBook {
    margin-left: 45px;
}

#bookTitle {
    font-size: 24px;
    font-family: &quot;Merriweather&quot;, &quot;Georgia&quot;, serif;
    color: #382110;
}

#authorName {
    font-size: 18px;
}

#shelf {
    margin-left:12px;
}

#bookInfo {
    margin-left: 0px;
    margin-top: 3%;
    margin-bottom: 1%;
    min-width:600px;
    font-size: 1rem;
    font-family:&quot;Merriweather&quot;, &quot;Georgia&quot;, serif;
    color: #382110;
}

#reviewInfo {
    color: #382110;
    font-family:&quot;Merriweather&quot;, &quot;Georgia&quot;, serif;
    font-size: 1rem;
    margin-bottom: 10px;
}

#reviewInfo {
    min-width:400px;
    max-width: 800px;

}

#bookFormat {
    font-size: 13px;
    line-height: 8px;
    margin-bottom: 0px;
    margin-top: 0px;
    font-family: &#x27;Segoe UI&#x27;, Tahoma, sans-serif;
    color: #382110;
}

#activity {
    font-family: &quot;Merriweather&quot;, &quot;Georgia&quot;, serif;
    font-size: 1rem;
    margin-top: 15px;
}

#actCol1 {
    min-width: 50px;
    margin-right: 0;
}

#actCol2 {
    min-width: 300px;
    margin-left: 0;
}

#reviewbtn {
    border: none;
    padding: 0;
    background: none;
    color: #00635d;
   cursor: pointer;

}

.modal-content {
    font-family: &quot;Merriweather&quot;, &quot;Georgia&quot;, serif;
    font-size: 0.9rem;
    font-weight: 300;
    color: #382110;
    width: 100%;
}

.modal-footer button {
    background-color: #EDE6D6;
    color: #382110;
    border-radius: 4px;
    width: 60px;
    height: 40px;
    margin-right: 0;
}

textarea {
    width: 100%;

    margin-left: 4%;
    margin-right: 5%;
}

@media only screen and (max-width: 995px) {
    textarea {
        width: 95%;
        margin-left: 2.5%;
        margin-right: 2%;
    }
}
.dropbtn {
    width: 100%;
    height: 25;
    font-size: 0.9rem;
    color: #00635d;
    background-color: white;
    cursor: pointer;
    border-radius: 7px;
    border: 0.7px solid #D7D7D7;
    text-align: left;
  }


  #myInput {
    font-size: 0.9rem;
    width: 100%;
    border-radius: 7px;
    border: 0.7px solid #D7D7D7;
  }

  #myInput:focus {outline: 3px solid #ddd;}

  .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    width:100%;
    overflow: auto;
    background: #F4F1EA;
    border-radius: 7px;
    border: 0.7px solid #D7D7D7;
    z-index: 1;
  }

  .dropdown-content a {
    color: black;
    text-decoration: none;
    display: block;
    font-size: 0.8rem;
    border-bottom: 0.5px solid #D7D7D7;
    padding-bottom: 3px;
    padding-top: 3px;
  }

  .dropdown a:hover {background-color: #FFFFE0;}

  .show {display: block;}

app-list-likes{
  display: inline-block;

}
app-comment{
  display: inline-block;

}
app-likes{
  display: inline-block;
}


</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><navbar></navbar><div class="container">    <div class="row" style="float:left">        <div class="media">            <div class="col-md-2" id="leftCol">                <img id="bookCover" src={{myBook?.img_url}} class="align-self-start mr-3">                <app-dropdown id="shelf" [bookId]="myBook?.id"></app-dropdown>                <app-star id="rateBook" (rated)="open($event)" [bookId]="myBook?.id" [shelf]="userInfo?.shelf_name" [readOnly]="false" [starsCount]="userInfo?.rating"></app-star>            </div>            <div class="media-body" id="bookInfo">                <div class="col-md-9">                    <h1 id="Booktitle">{{myBook?.title}}</h1>                    <h5 id="authorName">by {{myBook?.author_name}}</h5>                    <div>                        <app-star [starsCount]="myBook?.ratings_avg" [readOnly]="true"></app-star>                        <span style="font-size: 13px; font-family: \'Segoe UI\', Tahoma, sans-serif;">{{myBook?.ratings_avg}}                            {{myBook?.ratings_count}} ratings {{myBook?.reviews_count}} reviews</span>                    </div>                    <p>{{myBook?.description}}</p>                    <div id="bookFormat">                        <p>Paperback {{myBook?.pages_no}} pages</p>                        <p>Published {{myBook?.publication_date}} by {{myBook?.publisher}}</p>                    </div>                </div>                <div class="col-md-1"></div>            </div>        </div>    </div></div><div class="container" id="activity" *ngIf="isUser && (userInfo?.rating > 0 || userInfo?.shelf_name < 3)">    <h6>MY ACTIVITY</h6>    <hr>    <div class="row">        <div class="col-2" id="ActCol1">            <!--50-->            <p style="white-space: nowrap;">Review Of</p>            <p>shelf</p>            <p>Rating</p>            <p>Review</p>        </div>        <div class="col-8" id="ActCol2">            <!--300-->            <p>{{myBook?.isbn}}</p>            <p>{{shelfName}}</p>            <app-star [starsCount]="userInfo?.rating" [readOnly]="true"></app-star>            <div *ngIf="!userInfo.body">                <p id="reviewbtn" (click)="open(6)">Add a review</p>            </div>            <div *ngIf="userInfo?.body">                <p>{{userInfo.body}}</p>                <p id="reviewbtn" (click)="open(6)">Edit review</p>            </div>        </div>    </div>    <hr></div><div class="container">    <div class="row" style="float: left; margin-top: 15px; display: block;">        <ng-container *ngFor="let review of reviews">            <div class="media" *ngIf="userInfo?.id != review.id">                <img [routerLink]="[\'/profile\',review.user_id]" id="reviewerImg" src={{review?.userimagelink}} class="align-self-start mr-3" style="width:50px; height: 50px">                <div class="media-body" id="reviewInfo">                    <h6><b [routerLink]="[\'/profile\',review.user_id]" id="reviewerName">{{review?.username}}</b> rated it                        <app-star [starsCount]="review?.rating" [readOnly]="true"></app-star>                    </h6>                    <p *ngIf="review.body != \'No Body\'">{{review?.body}}</p>                    <small>{{review?.likes_count}}                        <app-list-likes [resourse_id]=\'review.id\'></app-list-likes>                        <app-likes [user]=\'review.user_id\' [resourse_id]=\'review.id\'></app-likes>                        {{review?.comments_count}} Comments                        <app-comments [resourse_id]=\'review.id\'></app-comments>                    </small>                </div>            </div>        </ng-container>    </div>    <div class="col-md-3"></div></div><div class="modal fade" id="Modal">    <div class="modal-dialog modal-lg">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title">Review of {{myBook?.title}}</h5>                <button type="button" class="close" id="closebtn" data-dismiss="modal" (click)="errMsg=\'\'; reviewBody=userInfo.body;">&times;</button>            </div>            <div class="modal-body" style="margin-bottom:5px; padding-bottom: 0px;">                <div class="row" style="margin-bottom:0px">                    <div class="col-2" style="width: 100%">                        <p>My rating</p>                        <p>Book shelf</p>                    </div>                    <div class="col-8" style="width: 100%">                        <app-star [starsCount]="userInfo?.rating" (rated)="userInfo.rating = $event; reviewRating = $event" [readOnly]="false" [bookId]="myBook?.id" [shelf]="userInfo?.shelf_name"></app-star>                        <br>                        <div class="dropdown" style="width:200px;">                            <button (click)="openShelves()" class="dropbtn">choose shelves..</button>                            <div id="myDropdown" class="dropdown-content">                                <input type="text" placeholder="Search.." id="myInput" (keyup)="filterFunction()">                                <a><input type="radio" name="group1" (click)="reviewShelf=0; modelShelf=\'read\';" checked>read</a>                                <a><input type="radio" name="group1" (click)="reviewShelf=1; modelShelf=\'currently reading\';">currently reading                                </a>                                <a><input type="radio" name="group1" (click)="reviewShelf=2; modelShelf=\'want to read\';">want to read</a>                            </div>                        </div>                        <span style="color: #00635d;  margin-left: 10px;">{{modelShelf}}</span>                    </div>                    <p style="margin-left: 2%">What did you think?</p>                    <textarea rows="10" cols="100" [(ngModel)]="reviewBody"></textarea>                    <h6 id="error" style="margin-left: 20px" *ngIf="errMsg" style="color:crimson">{{errMsg}}</h6>                </div>            </div>            <div class="modal-footer" style="border:none;">                <button type="button" id="save" (click)="review()">Save</button>                <button type="button" id="delete" (click)="deleteReview()">delete</button>            </div>        </div>    </div></div><button type="button" id="openModalButton" data-toggle="modal" data-target="#Modal" style="display: none;"></button></div>'
    var COMPONENTS = [{'name': 'AboutusComponent', 'selector': 'app-aboutus'},{'name': 'AccountSettingsComponent', 'selector': 'app-account-settings'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BookInfoComponent', 'selector': 'app-book-info'},{'name': 'CommentsComponent', 'selector': 'app-comments'},{'name': 'DropdownComponent', 'selector': 'app-dropdown'},{'name': 'FollowersComponent', 'selector': 'app-followers'},{'name': 'FollowingComponent', 'selector': 'app-following'},{'name': 'ForgetPasswordComponent', 'selector': 'app-forget-password'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'LikesComponent', 'selector': 'app-likes'},{'name': 'ListLikesComponent', 'selector': 'app-list-likes'},{'name': 'LogInComponent', 'selector': 'app-log-in'},{'name': 'MyBooksComponent', 'selector': 'app-my-books'},{'name': 'NavbarComponent', 'selector': 'navbar'},{'name': 'PageNotFoundComponent', 'selector': 'app-404NotFound'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'ReviewComponent', 'selector': 'review'},{'name': 'SearchBooksComponent', 'selector': 'app-search-books'},{'name': 'SearchPeopleComponent', 'selector': 'app-searchpeople'},{'name': 'StarComponent', 'selector': 'app-star'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'BookInfoComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'BookInfoComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
